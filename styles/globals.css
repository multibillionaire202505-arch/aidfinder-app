/* ===== Base reset ===== */
:root{
  --bg:#ffffff;
  --text:#0f172a;
  --muted:#64748b;
  --border:#e2e8f0;
  --card:#ffffff;
  --elev:#f8fafc;

  --brand:#16a34a;
  --brand-600:#16a34a;
  --brand-700:#15803d;

  --tint-food:#dcfce7;
  --tint-health:#ffe4e6;
  --tint-housing:#e0f2fe;
  --tint-utilities:#fef9c3;
  --tint-education:#ede9fe;
  --tint-income:#fee2e2;

  --focus:#3b82f6;
}

html[data-theme="dark"]{
  --bg:#0b1220;
  --text:#e5e7eb;
  --muted:#94a3b8;
  --border:#1f2937;
  --card:#0f172a;
  --elev:#111827;

  --tint-food:#0b3b21;
  --tint-health:#3b0c12;
  --tint-housing:#0a2b41;
  --tint-utilities:#3c3818;
  --tint-education:#1f1845;
  --tint-income:#3b1212;
}

*{box-sizing:border-box}
html,body{padding:0;margin:0}
body{
  font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji","Segoe UI Emoji";
  background:var(--bg);
  color:var(--text);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

a{color:inherit}
img{max-width:100%;display:block}

/* ===== Layout ===== */
.container{max-width:1100px;margin:0 auto;padding:0 16px}
.nav{
  position:sticky; top:0; z-index:30;
  background:rgba(255,255,255,.7);
  backdrop-filter:saturate(180%) blur(10px);
  border-bottom:1px solid var(--border);
}
html[data-theme="dark"] .nav{ background:rgba(11,18,32,.7); }

.headerRow{
  display:flex; align-items:center; justify-content:space-between;
  height:64px;
}
.brandRow{display:flex; align-items:center; gap:10px; font-weight:800; font-size:18px}

/* ===== Hero ===== */
.hero{padding:28px 0 12px}
.hero h1{font-size:28px; line-height:1.1; margin:0 0 8px}
.hero p{margin:0; color:var(--muted)}

/* ===== Toolbar ===== */
.toolbar{display:flex; flex-direction:column; gap:12px; padding:8px 0}
.searchWrap{display:flex; gap:8px; align-items:center}
.search{
  width:100%;
  padding:12px 14px;
  border:1px solid var(--border);
  border-radius:12px;
  background:var(--card);
  color:var(--text);
  outline:none;
}
.search:focus{border-color:var(--focus); box-shadow:0 0 0 3px rgba(59,130,246,.15)}
.clearBtn{
  border:1px solid var(--border); background:var(--elev); color:var(--text);
  padding:10px 12px; border-radius:10px; cursor:pointer;
}
.clearBtn:focus{outline:2px solid var(--focus); outline-offset:2px}

.filtersRow{display:flex; gap:12px; align-items:flex-start; justify-content:space-between; flex-wrap:wrap}
.scrollX{display:flex; gap:8px; overflow:auto; padding-bottom:2px}
.chip{
  border:1px solid var(--border); background:var(--card); color:var(--text);
  border-radius:999px; padding:8px 12px; cursor:pointer;
}
.chipActive{
  background:var(--text); color:var(--bg); border-color:var(--text);
}
.langSelect{
  border:1px solid var(--border); background:var(--card); color:var(--text);
  border-radius:10px; padding:8px 10px;
}
.stateSelectWrap{display:flex; align-items:center; gap:8px}

.countRow{font-size:14px; color:var(--muted)}

/* ===== Grid & cards ===== */
.grid{
  display:grid;
  grid-template-columns: repeat( auto-fill, minmax(260px, 1fr) );
  gap:14px; padding:16px 0 24px;
}
.card{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:16px; padding:14px;
  transition:transform .15s ease, box-shadow .15s ease;
}
.card:hover{ transform:translateY(-2px); box-shadow:0 6px 18px rgba(0,0,0,.06) }
.badge{
  display:inline-block; padding:6px 10px; border-radius:999px;
  font-size:12px; font-weight:700; color:#0f172a; border:1px solid rgba(0,0,0,.06);
}
html[data-theme="dark"] .badge{ color:#e5e7eb; border-color:rgba(255,255,255,.06) }
.card h3{margin:10px 0 6px; font-size:18px}
.card p{margin:0; color:var(--muted)}
.cardActions{display:flex; gap:8px; align-items:center; margin-top:12px; flex-wrap:wrap}

.apply{
  background:var(--brand); color:white; border:none; padding:10px 14px;
  border-radius:10px; text-decoration:none; font-weight:700; cursor:pointer;
}
.apply:hover{ background:var(--brand-700) }
.secondary{
  background:var(--elev); color:var(--text); border:1px solid var(--border);
  padding:9px 12px; border-radius:10px; cursor:pointer;
}
.iconBtn{
  background:transparent; border:1px solid var(--border);
  padding:7px; border-radius:10px; cursor:pointer;
}
.iconBtn:focus, .secondary:focus, .apply:focus{ outline:2px solid var(--focus); outline-offset:2px }

/* ===== Share menu ===== */
.menuWrap{position:relative}
.menu{
  position:absolute; top:42px; right:0; background:var(--card);
  border:1px solid var(--border); border-radius:10px; padding:6px;
  display:flex; flex-direction:column; gap:6px; min-width:180px; z-index:20;
  box-shadow:0 10px 24px rgba(0,0,0,.08);
}
.menu button{ text-align:left }

/* ===== Empty state ===== */
.empty{ text-align:center; border:1px dashed var(--border); border-radius:16px; padding:32px; color:var(--muted) }
.emptyArt{ font-size:36px; margin-bottom:8px }

/* ===== Modal ===== */
.backdrop{
  position:fixed; inset:0; background:rgba(0,0,0,.35); z-index:40;
}
.modal{
  position:fixed; z-index:50; left:50%; top:50%; transform:translate(-50%,-50%);
  width:min(680px, 92vw); background:var(--card); border:1px solid var(--border);
  border-radius:16px; padding:16px;
}
.modalHeader{display:flex; align-items:center; justify-content:space-between}
.modalTitle{margin:10px 0 8px}
.modalBody{color:var(--muted); margin:0 0 10px}
.modalActions{display:flex; gap:8px; align-items:center; flex-wrap:wrap}
.closeX{ background:transparent; border:1px solid var(--border); border-radius:10px; padding:6px 10px; cursor:pointer }

/* ===== Footer ===== */
.footer{
  border-top:1px solid var(--border);
  margin:24px 0 32px; padding-top:16px; text-align:center; color:var(--muted);
}
.footer a { text-decoration:none; }
.footer a:hover { text-decoration:underline; }

/* ===== Reduced motion ===== */
@media (prefers-reduced-motion: reduce){
  *{ animation-duration: .01ms !important; animation-iteration-count: 1 !important; transition-duration: .01ms !important; scroll-behavior:auto !important }
}